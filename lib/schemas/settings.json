{
  "title": "hapi-postgraphile options",
  "type": "object",
  "required": ["pgConfig"],
  "properties": {
    "route": {
      "type": ["object", "boolean"],
      "default": {},
      "properties": {
        "path": {
          "type": "string",
          "default": "/graphql"
        },
        "options": {
          "type": "object"
        }
      }
    },
    "errorHandling": {
      "type": "object",
      "properties": {
        "throwMethodErrors": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "cacheAllowedOperations": {
      "type": ["array", "null"]
    },
    "cacheConfig": {
      "type": ["object", "null"],
      "default": null,
      "required": ["generateTimeout"],
      "properties": {
        "segment": {
          "type": "string"
        },
        "expiresIn": {
          "type": "number"
        },
        "expiresAt": {
          "type": "string"
        },
        "staleIn": {
          "type": "number"
        },
        "staleTimeout": {
          "type": "number"
        },
        "generateTimeout": {
          "type": "number",
          "default": 500
        }
      }
    },
    "authentication": {
      "type": "object",
      "default": {},
      "properties": {
        "verifyOrigin": {
          "type": "string",
          "enum": ["always", "present", "never"],
          "default": "never"
        },
        "verifyOriginOverride": {
          "type": "boolean",
          "default": false
        },
        "loginOperationName": {
          "type": "string",
          "default": "authenticate"
        },
        "logoutOperationName": {
          "type": "string",
          "default": "logout"
        },
        "tokenDataPath": {
          "type": ["string", "null"],
          "default": "data.authenticate.jwtToken"
        }
      }
    },
    "headerAuthentication": {
      "type": ["object", "null", "boolean"],
      "default": {},
      "properties": {
        "headerName": {
          "type": "string",
          "default": "Authorization"
        },
        "tokenType": {
          "type": "string",
          "default": "Bearer"
        }
      }
    },
    "cookieAuthentication": {
      "type": ["object", "null"],
      "default": null,
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string"
        },
        "options": {
          "type": ["object", "null"],
          "default": {},
          "properties": {
            "encoding": {
              "type": ["string", "null"],
              "default": "none"
            },
            "isSecure": {
              "type": "boolean",
              "default": true
            },
            "isHttpOnly": {
              "type": "boolean",
              "default": true
            },
            "clearInvalid": {
              "type": "boolean",
              "default": false
            },
            "strictHeader": {
              "type": "boolean",
              "default": true
            },
            "path": {
              "type": ["string", "null"],
              "default": "/"
            }
          }
        }
      }
    },
    "pgConfig": {
      "type": ["string", "object"]
    },
    "pgOptions": {
      "type": ["object", "null"]
    },
    "schemaName": {
      "type": "string",
      "default": "public"
    },
    "schemaOptions": {
      "type": "object",
      "required": ["jwtSecret", "jwtAudiences"],
      "properties": {
        "watchPg": {
          "type": "boolean"
        },
        "classicIds": {
          "type": "boolean"
        },
        "dynamicJson": {
          "type": "boolean"
        },
        "jwtSecret": {
          "type": "string"
        },
        "jwtPgTypeIdentifier": {
          "type": "string"
        },
        "jwtAudiences": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "default": ["postgraphile"]
        },
        "pgDefaultRole": {
          "type": "string"
        },
        "disableDefaultMutations": {
          "type": "boolean"
        },
        "setofFunctionsContainNulls": {
          "type": "boolean"
        },
        "showErrorStack": {
          "type": ["boolean", "string"]
        },
        "extendedErrors": {
          "type": "array"
        },
        "readCache": {
          "type": "string"
        },
        "writeCache": {
          "type": "string"
        },
        "legacyRelations": {
          "type": "boolean"
        },
        "legacyJsonUuid": {
          "type": "boolean"
        }
      }
    }
  }
}
